(window["webpackJsonprichiesta-details-widget"]=window["webpackJsonprichiesta-details-widget"]||[]).push([[0],{29:function(e,t,a){e.exports=a(46)},30:function(e,t,a){},38:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);a(30);var n=a(12),r=a(13),c=a(19),l=a(10),s=a(18),i=a(28),o=a(0),m=a.n(o),u=a(8),p=a.n(u),d=(a(38),a(39),a(7)),E={serviceUrl:null,richiesta:{esito:!0,durata:"5 mesi",importo:1e5,tasso:777}},b=a(49),f=a(50),g=a(51),h=a(52),v=a(22),N=a(16),O=a(21),j=a(11),w=a.n(j),y=a(15),k=a(3),x=function(){return{headers:new Headers({"Content-Type":"application/json"})}},P=function(){var e=Object(y.a)(w.a.mark((function e(t,a){var n,r,c=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(c.length>2&&void 0!==c[2])||c[2],e.next=3,fetch(t,a);case 3:if(204!==(r=e.sent).status){e.next=6;break}return e.abrupt("return",{});case 6:if(!(r.status>=200&&r.status<300)){e.next=10;break}if(!n){e.next=9;break}return e.abrupt("return",r.json());case 9:return e.abrupt("return",{});case 10:return e.abrupt("return",Promise.reject(r.status));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(k.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){var t=z({},x(),{method:"GET"});return P(e,t)},C=function(e,t){var a=z({},x(),{method:"PUT",body:JSON.stringify(t)});return P(e,a)},F=function(){var e=Object(y.a)(w.a.mark((function e(t,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U("".concat(t,"/api/richiesta?id=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(w.a.mark((function e(t,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C("".concat(t,"/api/richiesta/accetta?id=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(y.a)(w.a.mark((function e(t,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C("".concat(t,"/api/richiesta/rifiuta?id=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(o.useState)(),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(!1),c=Object(d.a)(r,2),l=c[0],s=c[1],i=Object(o.useState)(!1),u=Object(d.a)(i,2),p=u[0],j=u[1],w=Object(o.useState)(!1),y=Object(d.a)(w,2),k=y[0],x=y[1];console.log(a);var P=new URLSearchParams(window.location.search).get("id");return Object(o.useEffect)((function(){!function(e){F(E.serviceUrl,e).then((function(e){n(e)})).catch((function(e){return j(!0)}))}(P)}),[]),m.a.createElement(m.a.Fragment,null,!0===p&&m.a.createElement("div",{className:"card text-center"},m.a.createElement("div",{className:"card-body"},m.a.createElement("h5",{className:"card-title"},"Errore di sistema"),m.a.createElement("p",{className:"card-text"},"Il servizio \xe8 termporaneamente non disponibile."),m.a.createElement("a",{href:"#",className:"btn btn-primary"},"Torna alla Home"))),!1===p&&m.a.createElement(m.a.Fragment,null,a?m.a.createElement(m.a.Fragment,null,!1===l?m.a.createElement("div",{className:"align-items-center back-col p-4"},m.a.createElement("div",{className:"white-div align-content-center"},!0===a.esito?m.a.createElement(m.a.Fragment,null,m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement(v.a,{icon:O.a,size:"6x",className:"green-check mb-4"}))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("p",{className:"title align-content-center"},"La tua azienda \xe8 risultata finanziabile."))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("p",{className:"subtitle"},"Per completare la pratica leggi ed accetta la nostra proposta commerciale "))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("button",{className:"custom-button-richiesta",onClick:function(){return s(!0)}}," Vai alla proposta"))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("button",{className:"custom-button-richiesta"}," Ritorna alla home page")))):m.a.createElement(m.a.Fragment,null,m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement(v.a,{icon:O.b,size:"6x",color:"red",className:"mb-4"}))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("p",{className:"title align-to-center"},"Siamo spiacenti, al momento non possiamo soddisfare la sua richiesta di finanziamento"))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("button",{className:"custom-button-richiesta"}," Ritorna alla home page")))))):m.a.createElement("div",{className:"align-items-center back-col p-4"},m.a.createElement("div",{className:"white-div align-content-center"},m.a.createElement(N.a,{show:k,onHide:function(){return x(!1)}},m.a.createElement(N.a.Header,{closeButton:!0},m.a.createElement(N.a.Title,null,"Non Accettare")),m.a.createElement(N.a.Body,null,m.a.createElement("p",null,"Sei sicuro di non volere accettare la nostra proposta?")),m.a.createElement(N.a.Footer,null,m.a.createElement(h.a,{variant:"secondary",onClick:function(){return x(!1)}},"No"),m.a.createElement(h.a,{variant:"primary",onClick:function(){var e;e=a.id,D(E.serviceUrl,e).then((function(e){console.log("ok")})).catch((function(e){return console.log("err put")})),x(!1)}},"Si"))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("p",{className:"title align-content-center"},"La Prefattibilit\xe0 della tua richiesta ha dato esito positivo"))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("p",{className:"subtitle"},"Possiamo avviare il nostro processo di delibera per la seguente operazione "))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("span",{className:"subtitle-proposta"},"Importo: ")," ",m.a.createElement("span",{className:"subtitle"},a.importo?a.importo.toFixed(2).replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")+" \u20ac":""))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("span",{className:"subtitle-proposta"},"Durata: ")," ",m.a.createElement("span",{className:"subtitle"},a.durata))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("span",{className:"subtitle-proposta"},"Tasso variabile: ")," ",m.a.createElement("span",{className:"subtitle"}," euribor mese + spread ",a.tassoVariabile,"%"))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("span",{className:"subtitle-proposta"},"Spese Istruttoria: ")," ",m.a.createElement("span",{className:"subtitle"},"2% del finanziamento"))),m.a.createElement(b.a,null,m.a.createElement(g.a,{md:12,className:"align-to-center"},m.a.createElement("button",{className:"custom-button-richiesta mx-2",onClick:function(){return x(!0)}},"Non accettare"),m.a.createElement("button",{className:"custom-button-richiesta mx-2",onClick:function(){return e=a.id,void T(E.serviceUrl,e).then((function(e){console.log("ok")})).catch((function(e){return console.log("err put")}));var e}},"Accetta")))))):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"spinner"},m.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center"},m.a.createElement(b.a,null,m.a.createElement(f.a,{animation:"grow",variant:"primary"})),m.a.createElement(b.a,{className:"row"},m.a.createElement("strong",{className:"mt-2"},"Elaborazione richiesta ...")))))))};var A=function(){return m.a.createElement(H,null)},L={serviceUrl:"service-url"},I=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"connectedCallback",value:function(){var e=this.getAttribute("service-url");!function(e){E.serviceUrl=e}(e),this.mountPoint=document.createElement("div"),this.appendChild(this.mountPoint),p.a.render(m.a.createElement(A,{serviceUrl:e}),this.mountPoint)}}],[{key:"observedAttributes",get:function(){return Object.values(L)}}]),t}(Object(i.a)(HTMLElement));customElements.define("details-widget",I)}},[[29,1,2]]]);
//# sourceMappingURL=main.ddadad84.chunk.js.map