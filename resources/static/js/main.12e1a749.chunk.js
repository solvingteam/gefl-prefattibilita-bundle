(window["webpackJsonprichiesta-details-widget"]=window["webpackJsonprichiesta-details-widget"]||[]).push([[0],{29:function(e,t,a){e.exports=a(46)},30:function(e,t,a){},38:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);a(30);var n=a(12),r=a(13),c=a(19),l=a(10),i=a(18),s=a(28),o=a(0),u=a.n(o),m=a(8),p=a.n(m),d=(a(38),a(39),a(7)),b={serviceUrl:null,richiesta:{esito:!0,durata:"5 mesi",importo:1e5,tasso:777}},E=a(49),f=a(50),h=a(51),g=a(22),v=a(16),N=a(21),O=a(11),j=a.n(O),w=a(15),y=a(3),k=function(){return{headers:new Headers({"Content-Type":"application/json"})}},P=function(){var e=Object(w.a)(j.a.mark((function e(t,a){var n,r,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(c.length>2&&void 0!==c[2])||c[2],e.next=3,fetch(t,a);case 3:if(204!==(r=e.sent).status){e.next=6;break}return e.abrupt("return",{});case 6:if(!(r.status>=200&&r.status<300)){e.next=10;break}if(!n){e.next=9;break}return e.abrupt("return",r.json());case 9:return e.abrupt("return",{});case 10:return e.abrupt("return",Promise.reject(r.status));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){var t=S({},k(),{method:"GET"});return P(e,t)},C=function(e,t){var a=S({},k(),{method:"PUT",body:JSON.stringify(t)});return P(e,a)},z=function(){var e=Object(w.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U("".concat(t,"/api/richiesta?id=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(w.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C("".concat(t,"/api/richiesta/accetta?id=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(w.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C("".concat(t,"/api/richiesta/rifiuta?id=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.useState)({}),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(!1),c=Object(d.a)(r,2),l=c[0],i=c[1],s=Object(o.useState)(!1),m=Object(d.a)(s,2),p=m[0],O=m[1];console.log(p);var j=new URLSearchParams(window.location.search).get("id");return Object(o.useEffect)((function(){!function(e){z(b.serviceUrl,e).then((function(e){n(e)})).catch((function(e){return console.log("err get richiesta")}))}(j)}),[]),u.a.createElement(u.a.Fragment,null,a?u.a.createElement(u.a.Fragment,null,!1===l?u.a.createElement("div",{className:"align-items-center back-col p-4"},u.a.createElement("div",{className:"white-div align-content-center"},!0===a.esito?u.a.createElement(u.a.Fragment,null,u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement(g.a,{icon:N.a,size:"6x",className:"green-check mb-4"}))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("p",{className:"title align-content-center"},"La tua azienda \xe8 risultata finanziabile."))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("p",{className:"subtitle"},"Per completare la pratica leggi ed accetta la nostra proposta commerciale "))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("button",{className:"custom-button-richiesta",onClick:function(){return i(!0)}}," Vai alla proposta"))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("button",{className:"custom-button-richiesta"}," Ritorna alla home page")))):u.a.createElement(u.a.Fragment,null,u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement(g.a,{icon:N.b,size:"6x",color:"red",className:"mb-4"}))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("p",{className:"title align-to-center"},"Siamo spiacenti, al momento non possiamo soddisfare la sua richiesta di finanziamento"))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("button",{className:"custom-button-richiesta"}," Ritorna alla home page")))))):u.a.createElement("div",{className:"align-items-center back-col p-4"},u.a.createElement("div",{className:"white-div align-content-center"},u.a.createElement(v.a,{show:p,onHide:function(){return O(!1)}},u.a.createElement(v.a.Header,{closeButton:!0},u.a.createElement(v.a.Title,null,"Non Accettare")),u.a.createElement(v.a.Body,null,u.a.createElement("p",null,"Sei sicuro di non volere accettare la nostra proposta?")),u.a.createElement(v.a.Footer,null,u.a.createElement(h.a,{variant:"secondary",onClick:function(){return O(!1)}},"No"),u.a.createElement(h.a,{variant:"primary",onClick:function(){var e;e=a.id,T(b.serviceUrl,e).then((function(e){console.log("ok")})).catch((function(e){return console.log("err put")})),O(!1)}},"Si"))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("p",{className:"title align-content-center"},"La Prefattibilit\xe0 della tua richiesta ha dato esito positivo"))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("p",{className:"subtitle"},"Possiamo avviare il nostro processo di delibera per la seguente operazione "))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("span",{className:"subtitle-proposta"},"Importo: ")," ",u.a.createElement("span",{className:"subtitle"},a.importo?a.importo.toFixed(2).replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")+" \u20ac":""))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("span",{className:"subtitle-proposta"},"Durata: ")," ",u.a.createElement("span",{className:"subtitle"},a.durata))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("span",{className:"subtitle-proposta"},"Tasso variabile: ")," ",u.a.createElement("span",{className:"subtitle"}," euribor mese + spread ",a.tassoVariabile,"%"))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("span",{className:"subtitle-proposta"},"Spese Istruttoria: ")," ",u.a.createElement("span",{className:"subtitle"},"2% del finanziamento"))),u.a.createElement(E.a,null,u.a.createElement(f.a,{md:12,className:"align-to-center"},u.a.createElement("button",{className:"custom-button-richiesta mx-2",onClick:function(){return O(!0)}},"Non accettare"),u.a.createElement("button",{className:"custom-button-richiesta mx-2",onClick:function(){return e=a.id,void F(b.serviceUrl,e).then((function(e){console.log("ok")})).catch((function(e){return console.log("err put")}));var e}},"Accetta")))))):u.a.createElement("span",null))};var A=function(){return u.a.createElement(D,null)},H={serviceUrl:"service-url"},L=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"connectedCallback",value:function(){var e=this.getAttribute("service-url");!function(e){b.serviceUrl=e}(e),this.mountPoint=document.createElement("div"),this.appendChild(this.mountPoint),p.a.render(u.a.createElement(A,{serviceUrl:e}),this.mountPoint)}}],[{key:"observedAttributes",get:function(){return Object.values(H)}}]),t}(Object(s.a)(HTMLElement));customElements.define("details-widget",L)}},[[29,1,2]]]);
//# sourceMappingURL=main.12e1a749.chunk.js.map